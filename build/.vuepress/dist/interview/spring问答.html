<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>spring容器和springmvc容器区别 | Mark</title>
    <meta name="generator" content="VuePress 1.8.0">
    <link rel="icon" href="/mark/favicon.ico">
    <link rel="manifest" href="/mark/manifest.json">
    <meta name="description" content="本博客主要是用来记录系统化的知识，内容部分来自github上的其他开源仓库，如有问题联系sdlyjhm01@sina.com">
    
    <link rel="preload" href="/mark/assets/css/0.styles.bb82d616.css" as="style"><link rel="preload" href="/mark/assets/js/app.d4c6c5a9.js" as="script"><link rel="preload" href="/mark/assets/js/2.306dea3c.js" as="script"><link rel="preload" href="/mark/assets/js/136.1590399b.js" as="script"><link rel="preload" href="/mark/assets/js/4.c54fd058.js" as="script"><link rel="prefetch" href="/mark/assets/js/10.c84ebc35.js"><link rel="prefetch" href="/mark/assets/js/100.1a6cd12f.js"><link rel="prefetch" href="/mark/assets/js/101.9db17df4.js"><link rel="prefetch" href="/mark/assets/js/102.93d6f437.js"><link rel="prefetch" href="/mark/assets/js/103.c00eb2c0.js"><link rel="prefetch" href="/mark/assets/js/104.f80eb25c.js"><link rel="prefetch" href="/mark/assets/js/105.abf3dc9b.js"><link rel="prefetch" href="/mark/assets/js/106.fa76bd07.js"><link rel="prefetch" href="/mark/assets/js/107.18ced5d2.js"><link rel="prefetch" href="/mark/assets/js/108.b3c6efc3.js"><link rel="prefetch" href="/mark/assets/js/109.ee27b37e.js"><link rel="prefetch" href="/mark/assets/js/11.5f60509c.js"><link rel="prefetch" href="/mark/assets/js/110.7a3bbbf3.js"><link rel="prefetch" href="/mark/assets/js/111.1aaca1e9.js"><link rel="prefetch" href="/mark/assets/js/112.8baaeb81.js"><link rel="prefetch" href="/mark/assets/js/113.f72ade7a.js"><link rel="prefetch" href="/mark/assets/js/114.e0cd41bc.js"><link rel="prefetch" href="/mark/assets/js/115.09598575.js"><link rel="prefetch" href="/mark/assets/js/116.e41ddc07.js"><link rel="prefetch" href="/mark/assets/js/117.e0178442.js"><link rel="prefetch" href="/mark/assets/js/118.e0602d35.js"><link rel="prefetch" href="/mark/assets/js/119.af766f19.js"><link rel="prefetch" href="/mark/assets/js/12.270aed88.js"><link rel="prefetch" href="/mark/assets/js/120.0b5c7566.js"><link rel="prefetch" href="/mark/assets/js/121.119ffcd0.js"><link rel="prefetch" href="/mark/assets/js/122.4bf3bf7e.js"><link rel="prefetch" href="/mark/assets/js/123.c600b6e6.js"><link rel="prefetch" href="/mark/assets/js/124.02f39eb6.js"><link rel="prefetch" href="/mark/assets/js/125.fa59328f.js"><link rel="prefetch" href="/mark/assets/js/126.1a525322.js"><link rel="prefetch" href="/mark/assets/js/127.c02729e7.js"><link rel="prefetch" href="/mark/assets/js/128.31446d2f.js"><link rel="prefetch" href="/mark/assets/js/129.d3b0da63.js"><link rel="prefetch" href="/mark/assets/js/13.4dbd9a5e.js"><link rel="prefetch" href="/mark/assets/js/130.9cf9077d.js"><link rel="prefetch" href="/mark/assets/js/131.8298f3e8.js"><link rel="prefetch" href="/mark/assets/js/132.822937ec.js"><link rel="prefetch" href="/mark/assets/js/133.2e3514b7.js"><link rel="prefetch" href="/mark/assets/js/134.c31920ff.js"><link rel="prefetch" href="/mark/assets/js/135.c7457b47.js"><link rel="prefetch" href="/mark/assets/js/137.f568f782.js"><link rel="prefetch" href="/mark/assets/js/138.bc5cfdc5.js"><link rel="prefetch" href="/mark/assets/js/139.cfb1cc83.js"><link rel="prefetch" href="/mark/assets/js/14.c5fb4a01.js"><link rel="prefetch" href="/mark/assets/js/140.c2f69a88.js"><link rel="prefetch" href="/mark/assets/js/141.e7489dab.js"><link rel="prefetch" href="/mark/assets/js/142.9c9ac2c5.js"><link rel="prefetch" href="/mark/assets/js/143.b0133c36.js"><link rel="prefetch" href="/mark/assets/js/144.6e99b7d7.js"><link rel="prefetch" href="/mark/assets/js/145.05ba3b46.js"><link rel="prefetch" href="/mark/assets/js/146.b0cce194.js"><link rel="prefetch" href="/mark/assets/js/147.d619ee34.js"><link rel="prefetch" href="/mark/assets/js/148.1cf2a3cd.js"><link rel="prefetch" href="/mark/assets/js/149.f30174f5.js"><link rel="prefetch" href="/mark/assets/js/15.ce9fbfbd.js"><link rel="prefetch" href="/mark/assets/js/150.6c54ab12.js"><link rel="prefetch" href="/mark/assets/js/151.65d3d6aa.js"><link rel="prefetch" href="/mark/assets/js/152.e8955d60.js"><link rel="prefetch" href="/mark/assets/js/153.90ab5dfe.js"><link rel="prefetch" href="/mark/assets/js/154.2d697a55.js"><link rel="prefetch" href="/mark/assets/js/155.83654b70.js"><link rel="prefetch" href="/mark/assets/js/156.a6174ff8.js"><link rel="prefetch" href="/mark/assets/js/157.bede77fc.js"><link rel="prefetch" href="/mark/assets/js/158.dc6da968.js"><link rel="prefetch" href="/mark/assets/js/159.dc5a245b.js"><link rel="prefetch" href="/mark/assets/js/16.0fead0d6.js"><link rel="prefetch" href="/mark/assets/js/160.69ee2ecb.js"><link rel="prefetch" href="/mark/assets/js/161.c44ab80b.js"><link rel="prefetch" href="/mark/assets/js/162.f1e20cd8.js"><link rel="prefetch" href="/mark/assets/js/163.e95e95ff.js"><link rel="prefetch" href="/mark/assets/js/164.c22f4973.js"><link rel="prefetch" href="/mark/assets/js/165.eacd95e3.js"><link rel="prefetch" href="/mark/assets/js/166.343114d4.js"><link rel="prefetch" href="/mark/assets/js/167.7887b12a.js"><link rel="prefetch" href="/mark/assets/js/168.9be37dd7.js"><link rel="prefetch" href="/mark/assets/js/169.02cd6774.js"><link rel="prefetch" href="/mark/assets/js/17.955c46ba.js"><link rel="prefetch" href="/mark/assets/js/170.491fefbc.js"><link rel="prefetch" href="/mark/assets/js/171.9259e051.js"><link rel="prefetch" href="/mark/assets/js/172.a7d29d7d.js"><link rel="prefetch" href="/mark/assets/js/173.c1e7823d.js"><link rel="prefetch" href="/mark/assets/js/174.c2f55891.js"><link rel="prefetch" href="/mark/assets/js/175.5882ace6.js"><link rel="prefetch" href="/mark/assets/js/176.8658d67a.js"><link rel="prefetch" href="/mark/assets/js/177.f5eb3c4a.js"><link rel="prefetch" href="/mark/assets/js/178.5f788aec.js"><link rel="prefetch" href="/mark/assets/js/179.e4670a00.js"><link rel="prefetch" href="/mark/assets/js/18.9e104c7f.js"><link rel="prefetch" href="/mark/assets/js/180.42411846.js"><link rel="prefetch" href="/mark/assets/js/181.2068a24f.js"><link rel="prefetch" href="/mark/assets/js/182.d9ef4b86.js"><link rel="prefetch" href="/mark/assets/js/183.c832203c.js"><link rel="prefetch" href="/mark/assets/js/184.ddf5e713.js"><link rel="prefetch" href="/mark/assets/js/185.51db0e3c.js"><link rel="prefetch" href="/mark/assets/js/186.cdf4227e.js"><link rel="prefetch" href="/mark/assets/js/187.0b5c7f2b.js"><link rel="prefetch" href="/mark/assets/js/188.67688e9f.js"><link rel="prefetch" href="/mark/assets/js/189.ae0cb1f2.js"><link rel="prefetch" href="/mark/assets/js/19.a4465f20.js"><link rel="prefetch" href="/mark/assets/js/190.0bf156c7.js"><link rel="prefetch" href="/mark/assets/js/191.1458bb3b.js"><link rel="prefetch" href="/mark/assets/js/192.6288cc11.js"><link rel="prefetch" href="/mark/assets/js/193.4362270b.js"><link rel="prefetch" href="/mark/assets/js/194.f6ad642f.js"><link rel="prefetch" href="/mark/assets/js/195.844f0001.js"><link rel="prefetch" href="/mark/assets/js/196.8d4d8979.js"><link rel="prefetch" href="/mark/assets/js/197.5aaf6a49.js"><link rel="prefetch" href="/mark/assets/js/198.9c0940a7.js"><link rel="prefetch" href="/mark/assets/js/199.f21ab551.js"><link rel="prefetch" href="/mark/assets/js/20.58f890a9.js"><link rel="prefetch" href="/mark/assets/js/200.62d87394.js"><link rel="prefetch" href="/mark/assets/js/201.fb28a9cf.js"><link rel="prefetch" href="/mark/assets/js/202.89ddebd9.js"><link rel="prefetch" href="/mark/assets/js/203.fdf0b60e.js"><link rel="prefetch" href="/mark/assets/js/204.63b51d21.js"><link rel="prefetch" href="/mark/assets/js/205.af33e379.js"><link rel="prefetch" href="/mark/assets/js/206.c94b988e.js"><link rel="prefetch" href="/mark/assets/js/207.adb9b2e2.js"><link rel="prefetch" href="/mark/assets/js/208.b29c6921.js"><link rel="prefetch" href="/mark/assets/js/209.19bcaa63.js"><link rel="prefetch" href="/mark/assets/js/21.a08889db.js"><link rel="prefetch" href="/mark/assets/js/210.e389e03a.js"><link rel="prefetch" href="/mark/assets/js/211.050ecc31.js"><link rel="prefetch" href="/mark/assets/js/212.9d572df2.js"><link rel="prefetch" href="/mark/assets/js/213.417e1a9b.js"><link rel="prefetch" href="/mark/assets/js/214.983d47ef.js"><link rel="prefetch" href="/mark/assets/js/215.b3f08353.js"><link rel="prefetch" href="/mark/assets/js/216.19404d66.js"><link rel="prefetch" href="/mark/assets/js/217.077683c7.js"><link rel="prefetch" href="/mark/assets/js/218.c4de25df.js"><link rel="prefetch" href="/mark/assets/js/219.1f406ef3.js"><link rel="prefetch" href="/mark/assets/js/22.0686356f.js"><link rel="prefetch" href="/mark/assets/js/220.a5e34dd6.js"><link rel="prefetch" href="/mark/assets/js/221.1144668a.js"><link rel="prefetch" href="/mark/assets/js/222.4d87481f.js"><link rel="prefetch" href="/mark/assets/js/223.6cd26625.js"><link rel="prefetch" href="/mark/assets/js/224.21f2fecb.js"><link rel="prefetch" href="/mark/assets/js/225.723bc04d.js"><link rel="prefetch" href="/mark/assets/js/226.ef869533.js"><link rel="prefetch" href="/mark/assets/js/227.252fdbe5.js"><link rel="prefetch" href="/mark/assets/js/228.5051bfca.js"><link rel="prefetch" href="/mark/assets/js/229.dd82ae2e.js"><link rel="prefetch" href="/mark/assets/js/23.e8c1edff.js"><link rel="prefetch" href="/mark/assets/js/230.cf78993a.js"><link rel="prefetch" href="/mark/assets/js/231.5e0764db.js"><link rel="prefetch" href="/mark/assets/js/232.6008ff66.js"><link rel="prefetch" href="/mark/assets/js/233.43e6b82f.js"><link rel="prefetch" href="/mark/assets/js/234.b46979f9.js"><link rel="prefetch" href="/mark/assets/js/235.d1683347.js"><link rel="prefetch" href="/mark/assets/js/236.e45e5c7d.js"><link rel="prefetch" href="/mark/assets/js/237.9c65c5b9.js"><link rel="prefetch" href="/mark/assets/js/238.12aea573.js"><link rel="prefetch" href="/mark/assets/js/239.57ac0933.js"><link rel="prefetch" href="/mark/assets/js/24.c143b050.js"><link rel="prefetch" href="/mark/assets/js/240.3019d534.js"><link rel="prefetch" href="/mark/assets/js/241.6c51d01b.js"><link rel="prefetch" href="/mark/assets/js/242.474e4f8b.js"><link rel="prefetch" href="/mark/assets/js/243.f60c4ebc.js"><link rel="prefetch" href="/mark/assets/js/244.710c7330.js"><link rel="prefetch" href="/mark/assets/js/245.8bd00ff6.js"><link rel="prefetch" href="/mark/assets/js/246.9b0896c0.js"><link rel="prefetch" href="/mark/assets/js/247.527be96b.js"><link rel="prefetch" href="/mark/assets/js/248.cd099ebe.js"><link rel="prefetch" href="/mark/assets/js/249.b00e3446.js"><link rel="prefetch" href="/mark/assets/js/25.46d4dc52.js"><link rel="prefetch" href="/mark/assets/js/250.ed1bd149.js"><link rel="prefetch" href="/mark/assets/js/251.b75132bf.js"><link rel="prefetch" href="/mark/assets/js/252.18bb23c9.js"><link rel="prefetch" href="/mark/assets/js/253.07407172.js"><link rel="prefetch" href="/mark/assets/js/254.1b3858bc.js"><link rel="prefetch" href="/mark/assets/js/255.1d39f2a5.js"><link rel="prefetch" href="/mark/assets/js/256.8317242a.js"><link rel="prefetch" href="/mark/assets/js/257.9ad3c5dc.js"><link rel="prefetch" href="/mark/assets/js/258.4c00d685.js"><link rel="prefetch" href="/mark/assets/js/259.4f9630c4.js"><link rel="prefetch" href="/mark/assets/js/26.adbc9163.js"><link rel="prefetch" href="/mark/assets/js/260.5a6973d6.js"><link rel="prefetch" href="/mark/assets/js/261.7c32ecee.js"><link rel="prefetch" href="/mark/assets/js/262.51741d8d.js"><link rel="prefetch" href="/mark/assets/js/263.59ddf85c.js"><link rel="prefetch" href="/mark/assets/js/264.ee0d430a.js"><link rel="prefetch" href="/mark/assets/js/265.8a9bce95.js"><link rel="prefetch" href="/mark/assets/js/266.20d86a85.js"><link rel="prefetch" href="/mark/assets/js/267.e4957aa1.js"><link rel="prefetch" href="/mark/assets/js/268.c4fd7a30.js"><link rel="prefetch" href="/mark/assets/js/269.fd4c9a1f.js"><link rel="prefetch" href="/mark/assets/js/27.9a6cf751.js"><link rel="prefetch" href="/mark/assets/js/270.29813a31.js"><link rel="prefetch" href="/mark/assets/js/271.3e888632.js"><link rel="prefetch" href="/mark/assets/js/28.726b3e12.js"><link rel="prefetch" href="/mark/assets/js/29.b190901b.js"><link rel="prefetch" href="/mark/assets/js/3.edaa3e28.js"><link rel="prefetch" href="/mark/assets/js/30.2af544ab.js"><link rel="prefetch" href="/mark/assets/js/31.8405f199.js"><link rel="prefetch" href="/mark/assets/js/32.95a064c9.js"><link rel="prefetch" href="/mark/assets/js/33.ca2e7736.js"><link rel="prefetch" href="/mark/assets/js/34.e9abb0de.js"><link rel="prefetch" href="/mark/assets/js/35.293fec1a.js"><link rel="prefetch" href="/mark/assets/js/36.2b9c8a10.js"><link rel="prefetch" href="/mark/assets/js/37.ed8f164f.js"><link rel="prefetch" href="/mark/assets/js/38.37c0e27b.js"><link rel="prefetch" href="/mark/assets/js/39.ce1d3798.js"><link rel="prefetch" href="/mark/assets/js/40.6b9ab01e.js"><link rel="prefetch" href="/mark/assets/js/41.319659f0.js"><link rel="prefetch" href="/mark/assets/js/42.076d1f85.js"><link rel="prefetch" href="/mark/assets/js/43.0a67294f.js"><link rel="prefetch" href="/mark/assets/js/44.aeabcb34.js"><link rel="prefetch" href="/mark/assets/js/45.39a637f6.js"><link rel="prefetch" href="/mark/assets/js/46.cee27d28.js"><link rel="prefetch" href="/mark/assets/js/47.c320d6f1.js"><link rel="prefetch" href="/mark/assets/js/48.145d740a.js"><link rel="prefetch" href="/mark/assets/js/49.916f6ffa.js"><link rel="prefetch" href="/mark/assets/js/5.0410b920.js"><link rel="prefetch" href="/mark/assets/js/50.bd5392f4.js"><link rel="prefetch" href="/mark/assets/js/51.8632bd64.js"><link rel="prefetch" href="/mark/assets/js/52.3986eb07.js"><link rel="prefetch" href="/mark/assets/js/53.6d526948.js"><link rel="prefetch" href="/mark/assets/js/54.57b5f6b5.js"><link rel="prefetch" href="/mark/assets/js/55.44e2e860.js"><link rel="prefetch" href="/mark/assets/js/56.d759f887.js"><link rel="prefetch" href="/mark/assets/js/57.994fbd52.js"><link rel="prefetch" href="/mark/assets/js/58.6f362e17.js"><link rel="prefetch" href="/mark/assets/js/59.e60a271d.js"><link rel="prefetch" href="/mark/assets/js/6.51b4a227.js"><link rel="prefetch" href="/mark/assets/js/60.cd395011.js"><link rel="prefetch" href="/mark/assets/js/61.290db17e.js"><link rel="prefetch" href="/mark/assets/js/62.eb490a45.js"><link rel="prefetch" href="/mark/assets/js/63.13e48bb2.js"><link rel="prefetch" href="/mark/assets/js/64.dbf9879e.js"><link rel="prefetch" href="/mark/assets/js/65.f5449baa.js"><link rel="prefetch" href="/mark/assets/js/66.fe303578.js"><link rel="prefetch" href="/mark/assets/js/67.3fd17997.js"><link rel="prefetch" href="/mark/assets/js/68.56a7b1c0.js"><link rel="prefetch" href="/mark/assets/js/69.34f5aa68.js"><link rel="prefetch" href="/mark/assets/js/7.6b95ce54.js"><link rel="prefetch" href="/mark/assets/js/70.618e85ff.js"><link rel="prefetch" href="/mark/assets/js/71.269829ba.js"><link rel="prefetch" href="/mark/assets/js/72.3854cdbb.js"><link rel="prefetch" href="/mark/assets/js/73.38f8aa17.js"><link rel="prefetch" href="/mark/assets/js/74.f04fcd28.js"><link rel="prefetch" href="/mark/assets/js/75.47d758ab.js"><link rel="prefetch" href="/mark/assets/js/76.404e4f98.js"><link rel="prefetch" href="/mark/assets/js/77.f29e1cbb.js"><link rel="prefetch" href="/mark/assets/js/78.e9a94285.js"><link rel="prefetch" href="/mark/assets/js/79.8523a803.js"><link rel="prefetch" href="/mark/assets/js/8.5269bfb0.js"><link rel="prefetch" href="/mark/assets/js/80.dd76b16b.js"><link rel="prefetch" href="/mark/assets/js/81.e4536132.js"><link rel="prefetch" href="/mark/assets/js/82.775b2c45.js"><link rel="prefetch" href="/mark/assets/js/83.e4c3af2e.js"><link rel="prefetch" href="/mark/assets/js/84.799e266c.js"><link rel="prefetch" href="/mark/assets/js/85.370dcf08.js"><link rel="prefetch" href="/mark/assets/js/86.d8a6611e.js"><link rel="prefetch" href="/mark/assets/js/87.9e776c7f.js"><link rel="prefetch" href="/mark/assets/js/88.c86ab826.js"><link rel="prefetch" href="/mark/assets/js/89.38775879.js"><link rel="prefetch" href="/mark/assets/js/9.2a52e727.js"><link rel="prefetch" href="/mark/assets/js/90.af02aebb.js"><link rel="prefetch" href="/mark/assets/js/91.c6a206a5.js"><link rel="prefetch" href="/mark/assets/js/92.925df33a.js"><link rel="prefetch" href="/mark/assets/js/93.7bc008c4.js"><link rel="prefetch" href="/mark/assets/js/94.120d3614.js"><link rel="prefetch" href="/mark/assets/js/95.f828fd04.js"><link rel="prefetch" href="/mark/assets/js/96.0d4c9adc.js"><link rel="prefetch" href="/mark/assets/js/97.b784c7ed.js"><link rel="prefetch" href="/mark/assets/js/98.0f5923c6.js"><link rel="prefetch" href="/mark/assets/js/99.eac93053.js">
    <link rel="stylesheet" href="/mark/assets/css/0.styles.bb82d616.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/mark/" class="home-link router-link-active"><img src="/mark/mlogo.svg" alt="Mark" class="logo"> <span class="site-name can-hide">Mark</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://txxs.github.io/record/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程算法" class="dropdown-title"><span class="title">工程算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程算法" class="mobile-dropdown-title"><span class="title">工程算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/algo/" class="nav-link">
  个人总结
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="业务" class="dropdown-title"><span class="title">业务</span> <span class="arrow down"></span></button> <button type="button" aria-label="业务" class="mobile-dropdown-title"><span class="title">业务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/buss/" class="nav-link">
  buss
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/db/es/" class="nav-link">
  ES
</a></li><li class="dropdown-item"><!----> <a href="/mark/db/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/mark/db/redis/" class="nav-link">
  redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/distri/the/" class="nav-link">
  理论
</a></li><li class="dropdown-item"><!----> <a href="/mark/distri/rpc/" class="nav-link">
  rpc
</a></li><li class="dropdown-item"><!----> <a href="/mark/distri/zk/" class="nav-link">
  zk
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><span class="title">网络</span> <span class="arrow down"></span></button> <button type="button" aria-label="网络" class="mobile-dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/internet/" class="nav-link">
  网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问答" class="dropdown-title"><span class="title">问答</span> <span class="arrow down"></span></button> <button type="button" aria-label="问答" class="mobile-dropdown-title"><span class="title">问答</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/interview/" class="nav-link router-link-active">
  问答
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow down"></span></button> <button type="button" aria-label="java" class="mobile-dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/java/collection/" class="nav-link">
  collection
</a></li><li class="dropdown-item"><!----> <a href="/mark/java/thread/" class="nav-link">
  thread
</a></li><li class="dropdown-item"><!----> <a href="/mark/java/io/" class="nav-link">
  io
</a></li><li class="dropdown-item"><!----> <a href="/mark/java/spring/" class="nav-link">
  spring
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="kafka" class="dropdown-title"><span class="title">kafka</span> <span class="arrow down"></span></button> <button type="button" aria-label="kafka" class="mobile-dropdown-title"><span class="title">kafka</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/kafka/" class="nav-link">
  kafka
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="q&amp;a" class="dropdown-title"><span class="title">q&amp;a</span> <span class="arrow down"></span></button> <button type="button" aria-label="q&amp;a" class="mobile-dropdown-title"><span class="title">q&amp;a</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/q&amp;a/interview/" class="nav-link">
  问答
</a></li><li class="dropdown-item"><!----> <a href="/mark/q&amp;a/self/" class="nav-link">
  自己
</a></li><li class="dropdown-item"><!----> <a href="/mark/q&amp;a/tuji/" class="nav-link">
  突击
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="总结" class="dropdown-title"><span class="title">总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="总结" class="mobile-dropdown-title"><span class="title">总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/self/" class="nav-link">
  问答
</a></li></ul></div></div> <a href="https://github.com/zq99299/note-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://txxs.github.io/record/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  博客github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="工程算法" class="dropdown-title"><span class="title">工程算法</span> <span class="arrow down"></span></button> <button type="button" aria-label="工程算法" class="mobile-dropdown-title"><span class="title">工程算法</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/algo/" class="nav-link">
  个人总结
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="业务" class="dropdown-title"><span class="title">业务</span> <span class="arrow down"></span></button> <button type="button" aria-label="业务" class="mobile-dropdown-title"><span class="title">业务</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/buss/" class="nav-link">
  buss
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><span class="title">数据库</span> <span class="arrow down"></span></button> <button type="button" aria-label="数据库" class="mobile-dropdown-title"><span class="title">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/db/es/" class="nav-link">
  ES
</a></li><li class="dropdown-item"><!----> <a href="/mark/db/mysql/" class="nav-link">
  Mysql
</a></li><li class="dropdown-item"><!----> <a href="/mark/db/redis/" class="nav-link">
  redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分布式" class="dropdown-title"><span class="title">分布式</span> <span class="arrow down"></span></button> <button type="button" aria-label="分布式" class="mobile-dropdown-title"><span class="title">分布式</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/distri/the/" class="nav-link">
  理论
</a></li><li class="dropdown-item"><!----> <a href="/mark/distri/rpc/" class="nav-link">
  rpc
</a></li><li class="dropdown-item"><!----> <a href="/mark/distri/zk/" class="nav-link">
  zk
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="网络" class="dropdown-title"><span class="title">网络</span> <span class="arrow down"></span></button> <button type="button" aria-label="网络" class="mobile-dropdown-title"><span class="title">网络</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/internet/" class="nav-link">
  网络
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="问答" class="dropdown-title"><span class="title">问答</span> <span class="arrow down"></span></button> <button type="button" aria-label="问答" class="mobile-dropdown-title"><span class="title">问答</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/interview/" class="nav-link router-link-active">
  问答
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="java" class="dropdown-title"><span class="title">java</span> <span class="arrow down"></span></button> <button type="button" aria-label="java" class="mobile-dropdown-title"><span class="title">java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/java/collection/" class="nav-link">
  collection
</a></li><li class="dropdown-item"><!----> <a href="/mark/java/thread/" class="nav-link">
  thread
</a></li><li class="dropdown-item"><!----> <a href="/mark/java/io/" class="nav-link">
  io
</a></li><li class="dropdown-item"><!----> <a href="/mark/java/spring/" class="nav-link">
  spring
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="kafka" class="dropdown-title"><span class="title">kafka</span> <span class="arrow down"></span></button> <button type="button" aria-label="kafka" class="mobile-dropdown-title"><span class="title">kafka</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/kafka/" class="nav-link">
  kafka
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="q&amp;a" class="dropdown-title"><span class="title">q&amp;a</span> <span class="arrow down"></span></button> <button type="button" aria-label="q&amp;a" class="mobile-dropdown-title"><span class="title">q&amp;a</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/q&amp;a/interview/" class="nav-link">
  问答
</a></li><li class="dropdown-item"><!----> <a href="/mark/q&amp;a/self/" class="nav-link">
  自己
</a></li><li class="dropdown-item"><!----> <a href="/mark/q&amp;a/tuji/" class="nav-link">
  突击
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="总结" class="dropdown-title"><span class="title">总结</span> <span class="arrow down"></span></button> <button type="button" aria-label="总结" class="mobile-dropdown-title"><span class="title">总结</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/mark/self/" class="nav-link">
  问答
</a></li></ul></div></div> <a href="https://github.com/zq99299/note-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工程算法</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/mark/interview/HR.html" class="sidebar-link">期望薪资 32-33K</a></li><li><a href="/mark/interview/Java集合框架常见面试题.html" class="sidebar-link">/interview/Java集合框架常见面试题.html</a></li><li><a href="/mark/interview/JVM面试题.html" class="sidebar-link">/interview/JVM面试题.html</a></li><li><a href="/mark/interview/kafka问答.html" class="sidebar-link">1. Kafka的用途有哪些？使用场景如何？</a></li><li><a href="/mark/interview/MYSQL问答.html" class="sidebar-link">基础</a></li><li><a href="/mark/interview/redis问答.html" class="sidebar-link">redis的底层数据结构</a></li><li><a href="/mark/interview/spring问答.html" class="active sidebar-link">spring容器和springmvc容器区别</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/mark/interview/zk问答.html" class="sidebar-link">Zookeeper的Leader选举</a></li><li><a href="/mark/interview/框架.html" class="sidebar-link">spring boot与spring mvc的区别</a></li><li><a href="/mark/interview/算法问答.html" class="sidebar-link">二叉查找</a></li><li><a href="/mark/interview/网络.html" class="sidebar-link">/interview/网络.html</a></li><li><a href="/mark/interview/美团面试题.html" class="sidebar-link">/interview/美团面试题.html</a></li><li><a href="/mark/interview/进程线程相关.html" class="sidebar-link">1. 简述线程，程序、进程的基本概念。以及他们之间关系是什么？</a></li><li><a href="/mark/interview/需要问的问题.html" class="sidebar-link">技术</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h3 id="spring容器和springmvc容器区别"><a href="#spring容器和springmvc容器区别" class="header-anchor">#</a> spring容器和springmvc容器区别</h3> <p><img src="https://txxs.github.io/pic/tofutureinterview/1-1.png" alt="1"></p> <p>web容器中有servlet容器，spring项目部署后存在spring容器和springmvc容器。其中spring控制service层和dao层的bean对象。springmvc容器控制controller层bean对象。servlet容器控制servlet对象。项目启动是，首先servlet初始化，初始化过程中通过web.xml中spring的配置加载spring配置，初始化spring容器和springmvc容器。待容器加载完成。servlet初始化完成，则完成启动。HTTP请求到达web容器后，会到达Servlet容器，容器通过分发器分发到具体的spring的Controller层。执行业务操作后返回结果。</p> <p>Spring是父容器，SpringMVC是其子容器，并且在Spring父容器中注册的Bean对于SpringMVC容器中是可见的，而在SpringMVC容器中注册的Bean对于Spring父容器中是不可见的，也就是子容器可以看见父容器中的注册的Bean，反之就不行。</p> <p>Spring提供的注解：@Controller，@Service，@Respository这三个注解，因为他们是继承自@Component。@Required、@Autowired、 @PostConstruct、@PersistenceContext、@Resource、@PreDestroy等注解。有时间还可以补充</p> <p>SpringMVC提供的注解：@RequestMapping、@RequestBody、@ResponseBody、@RestController等</p> <h3 id="拦截器和过滤器"><a href="#拦截器和过滤器" class="header-anchor">#</a> 拦截器和过滤器</h3> <p>共同：他们都是用来检查程序的共同场景，只不过拦截器是面向Action的，过滤器是面向整个web应用的。</p> <ul><li>解决权限验证问题</li> <li>解决乱码问题</li></ul> <h3 id="springmvc拦截器"><a href="#springmvc拦截器" class="header-anchor">#</a> SpringMVC拦截器</h3> <p>实现SpringMVC拦截器的三个步骤</p> <ol><li>创建一个实现HandlerInterceptor接口，并实现接口的方法的类</li> <li>将创建的拦截器注册到SpringMVC的配置文件中实现注册</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;mvc：interceptors&gt;
&lt;bean class=&quot;路径下的类&quot;&gt;
&lt;/mvc：interceptors&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ol start="3"><li>配置拦截器的拦截规则：</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;mvc：interceptors&gt;
   &lt;mvc：interceptor&gt;
          &lt;mvc:mapping path=&quot;拦截的action&quot;&gt;
          &lt;bean class=&quot;路径下的类&quot;&gt;
   &lt;/mvc：interceptor&gt;
&lt;/mvc：interceptors&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>拦截器中三个方法的介绍：</p> <ul><li>preHandle()方法是否将当前请求拦截下来。（返回true请求继续运行，返回false请求终止（包括action层也会终止），Object arg代表被拦截的目标对象。）</li> <li>postHandle()方法的ModelAndView对象可以改变发往的视图或修改发往视图的信息。</li> <li>afterCompletion()方法表示视图显示之后在执行该方法。（一般用于资源的销毁）</li></ul> <h3 id="过滤器"><a href="#过滤器" class="header-anchor">#</a> 过滤器</h3> <p>当浏览器发送请求给服务器的时候，先执行过滤器，然后才访问Web的资源。服务器响应Response，从Web资源抵达浏览器之前，也会途径过滤器。。</p> <p><img src="https://txxs.github.io/pic/tofutureinterview/1-2.png" alt="1"></p> <p>实现一个简单的过滤器</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>    public class FilterDemo1 implements Filter {
        public void destroy() {
        }
    
        public void doFilter(ServletRequest req, ServletResponse resp, FilterChain chain) throws ServletException, IOException {
    
            //执行这一句，说明放行（让下一个过滤器执行，如果没有过滤器了，就执行执行目标资源）
            chain.doFilter(req, resp);
        }
    
        public void init(FilterConfig config) throws ServletException {
            
        }
    }
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>过滤器的doFilter()方法是极其重要的，FilterChain接口是代表着所有的Filter，FilterChain中的doFilter()方法决定着是否放行下一个过滤器执行（如果没有过滤器了，就执行目标资源）。客户端发送http请求到Web服务器上，Web服务器执行过滤器，执行到”准备放行“时，就把字符串输出到控制台上，接着执行doFilter()方法，Web服务器发现没有过滤器了，就执行目标资源（也就是test.jsp）。目标资源执行完后，回到过滤器上，继续执行代码，然后输出”放行完成“</p> <h3 id="拦截器和过滤器的区别"><a href="#拦截器和过滤器的区别" class="header-anchor">#</a> 拦截器和过滤器的区别：</h3> <ul><li>拦截器是基于java的反射机制的，而过滤器是基于函数回调。</li> <li>拦截器不依赖与servlet容器，过滤器依赖与servlet容器。</li> <li>拦截器只能对action请求起作用，而过滤器则可以对几乎所有的请求起作用。</li> <li>拦截器可以访问action上下文、值栈 里的对象，而过滤器不能访问。</li> <li>在action的生命周期中，拦截器可以多次被调用，而过滤器只能在容器初始化时被调用一次。</li> <li>拦截器可以获取IOC容器中的各个bean，而过滤器就不行，这点很重要，在拦截器里注入一个service，可以调用业务逻辑。</li></ul> <h3 id="如何自己实现spring的-ioc依赖反转的功能"><a href="#如何自己实现spring的-ioc依赖反转的功能" class="header-anchor">#</a> 如何自己实现Spring的 IOC依赖反转的功能</h3> <p>IOC是DI的原理。依赖注入是向某个类或方法注入一个值，其中所用到的原理就是控制反转。IoC（Inversion of Control）是指容器控制程序对象之间的关系，而不是传统实现中，由程序代码直接操控。控制权由应用代码中转到了外部容器，控制权的转移是所谓反转。依赖注入的思想是通过反射机制实现的，在实例化一个类时，它通过反射调用类中set方法将事先保存在HashMap中的类属性(至于是什么样的HashMap后面会提到)注入到类中。IoC的优点：降低了组件之间的耦合，降低了业务对象之间替换的复杂性，使之能够灵活的管理对象。</p> <p>IOC 利用了反射，自己有个id,classtype,hashmap，所有的功能都在hashmap中，然后利用反射的Class.forName把把classtype转化成类，然后利用反射的setFieldValue()从hashMap中把属性和方法取出来，注入进去。最终把类创建出来</p> <p>原文地址：https://xilidou.com/2018/01/08/spring-ioc/</p> <p>自己博客中的文章：https://blog.csdn.net/maoyeqiu/article/details/49467643</p> <ol><li>初始化 IoC 容器。</li> <li>读取配置文件。</li> <li>将配置文件转换为容器识别对的数据结构（这个数据结构在Spring中叫做 BeanDefinition</li> <li>利用数据结构依次实例化相应的对象</li> <li>注入对象之间的依赖关系</li></ol> <h4 id="具体过程"><a href="#具体过程" class="header-anchor">#</a> 具体过程</h4> <ol><li>bean 定义了框架的数据结构</li></ol> <p>BeanDefinition 是我们项目的核心数据结构。用于描述我们需要 IoC 框架管理的对象。包含了对象的 name，class的名称。如果是接口的实现，还有该对象实现的接口。以及构造函数的传参的列表 constructorArgs 和需要注入的参数列表 `propertyArgs。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Data
@ToString
public class BeanDefinition {
    private String name;
    private String className;
    private String interfaceName;
    private List&lt;ConstructorArg&gt; constructorArgs;
    private List&lt;PropertyArg&gt; propertyArgs;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>再看看我们的工具类包里面的对象：ClassUtils、BeanUtils、ReflectionUtils</li></ol> <p>ClassUtils 负责处理 Java 类的加载,代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public class ClassUtils {
    public static ClassLoader getDefultClassLoader(){
        return Thread.currentThread().getContextClassLoader();
    }
    public static Class loadClass(String className){
        try {
            return getDefultClassLoader().loadClass(className);
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        }
        return null;
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>BeanUtils 负责处理对象的实例化，这里我们使用了 cglib 这个工具包，代码如下：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public class BeanUtils {
    public static &lt;T&gt; T instanceByCglib(Class&lt;T&gt; clz,Constructor ctr,Object[] args) {
        Enhancer enhancer = new Enhancer();
        enhancer.setSuperclass(clz);
        enhancer.setCallback(NoOp.INSTANCE);
        if(ctr == null){
            return (T) enhancer.create();
        }else {
            return (T) enhancer.create(ctr.getParameterTypes(),args);
        }
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>ReflectionUtils 主要通过 Java 的反射原理来完成对象的依赖注入：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public class ReflectionUtils {

    public static void injectField(Field field,Object obj,Object value) throws IllegalAccessException {
        if(field != null) {
            field.setAccessible(true);
            field.set(obj, value);
        }
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="3"><li>核心逻辑
我的 IoC 框架，目前只支持一种 ByName 的注入。所以我们的 BeanFactory 就只有一个方法：</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>public interface BeanFactory {
    Object getBean(String name) throws Exception;
}

public class BeanFactoryImpl implements BeanFactory{

    private static final ConcurrentHashMap&lt;String,Object&gt; beanMap = new ConcurrentHashMap&lt;&gt;();

    private static final ConcurrentHashMap&lt;String,BeanDefinition&gt; beanDefineMap= new ConcurrentHashMap&lt;&gt;();

    private static final Set&lt;String&gt; beanNameSet = Collections.synchronizedSet(new HashSet&lt;&gt;());

    @Override
    public Object getBean(String name) throws Exception {
        //查找对象是否已经实例化过
        Object bean = beanMap.get(name);
        if(bean != null){
            return bean;
        }
        //如果没有实例化，那就需要调用createBean来创建对象
        bean =  createBean(beanDefineMap.get(name));

        if(bean != null) {

            //对象创建成功以后，注入对象需要的参数
            populatebean(bean);

            //再把对象存入Map中方便下次使用。
            beanMap.put(name,bean;
        }

        //结束返回
        return bean;
    }

    protected void registerBean(String name, BeanDefinition bd){
        beanDefineMap.put(name,bd);
        beanNameSet.add(name);
    }

    private Object createBean(BeanDefinition beanDefinition) throws Exception {
        String beanName = beanDefinition.getClassName();
        Class clz = ClassUtils.loadClass(beanName);
        if(clz == null) {
            throw new Exception(&quot;can not find bean by beanName&quot;);
        }
        List&lt;ConstructorArg&gt; constructorArgs = beanDefinition.getConstructorArgs();
        if(constructorArgs != null &amp;&amp; !constructorArgs.isEmpty()){
            List&lt;Object&gt; objects = new ArrayList&lt;&gt;();
            for (ConstructorArg constructorArg : constructorArgs) {
                objects.add(getBean(constructorArg.getRef()));
            }
            return BeanUtils.instanceByCglib(clz,clz.getConstructor(),objects.toArray());
        }else {
            return BeanUtils.instanceByCglib(clz,null,null);
        }
    }

    private void populatebean(Object bean) throws Exception {
        Field[] fields = bean.getClass().getSuperclass().getDeclaredFields();
        if (fields != null &amp;&amp; fields.length &gt; 0) {
            for (Field field : fields) {
                String beanName = field.getName();
                beanName = StringUtils.uncapitalize(beanName);
                if (beanNameSet.contains(field.getName())) {
                    Object fieldBean = getBean(beanName);
                    if (fieldBean != null) {
                        ReflectionUtils.injectField(field,bean,fieldBean);
                    }
                }
            }
        }
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br></div></div><p>首先我们看到在 BeanFactory 的实现中。我们有两 HashMap，beanMap 和 beanDefineMap。 beanDefineMap 存储的是对象的名称和对象对应的数据结构的映射。beanMap 用于保存 beanName和实例化之后的对象。容器初始化的时候，会调用 BeanFactoryImpl.registerBean 方法。把 对象的 BeanDefination 数据结构，存储起来。当我们调用 getBean() 的方法的时候。会先到 beanMap 里面查找，有没有实例化好的对象。如果没有，就会去beanDefineMap查找这个对象对应的 BeanDefination。再利用DeanDefination去实例化一个对象。对象实例化成功以后，我们还需要注入相应的参数，调用 populatebean()这个方法。在 populateBean 这个方法中，会扫描对象里面的Field，如果对象中的 Field 是我们IoC容器管理的对象，那就会调用 我们上文实现的 ReflectionUtils.injectField来注入对象。一切准备妥当之后，我们对象就完成了整个 IoC 流程。最后这个对象放入 beanMap 中,方便下一次使用。</p> <ol start="4"><li>容器
我们所谓的容器，就是对BeanFactory的扩展，负责管理 BeanFactory。我们的这个IoC 框架使用 Json 作为配置文件，所以我们容器就命名为 JsonApplicationContext。当然之后你愿意实现 XML 作为配置文件的容器你就可以自己写一个 XmlApplicationContext，如果基于注解的容器就可以叫AnnotationApplcationContext。这些实现留个大家去完成。</li></ol> <div class="language- line-numbers-mode"><pre class="language-text"><code>public class JsonApplicationContext extends BeanFactoryImpl{
    private String fileName;
    public JsonApplicationContext(String fileName) {
        this.fileName = fileName;
    }
    public void init(){
        loadFile();
    }
    private void loadFile(){
        InputStream is = Thread.currentThread().getContextClassLoader().getResourceAsStream(fileName);
        List&lt;BeanDefinition&gt; beanDefinitions = JsonUtils.readValue(is,new TypeReference&lt;List&lt;BeanDefinition&gt;&gt;(){});
        if(beanDefinitions != null &amp;&amp; !beanDefinitions.isEmpty()) {
            for (BeanDefinition beanDefinition : beanDefinitions) {
                registerBean(beanDefinition.getName(), beanDefinition);
            }
        }
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>这个容器的作用就是 读取配置文件。将配置文件转换为容器能够理解的 BeanDefination。然后使用 registerBean 方法。注册这个对象。</p> <h3 id="如何实现aop-核心是动态代理-容器是反射"><a href="#如何实现aop-核心是动态代理-容器是反射" class="header-anchor">#</a> 如何实现AOP（核心是动态代理，容器是反射）</h3> <p>AOP面向方面编程基于IoC，是对OOP的有益补充，实现AOP的技术，主要分为两大类：一是采用动态代理技术，利用截取消息的方式，对该消息进行装饰，以取代原有对象行为的执行；二是采用静态织入的方式，引入特定的语法创建“方面”，从而使得编译器可以在编译期间织入有关“方面”的代码。</p> <p>Spring实现AOP：JDK动态代理和CGLIB代理 JDK动态代理：其代理对象必须是某个接口的实现，它是通过在运行期间创建一个接口的实现类来完成对目标对象的代理；其核心的两个类是InvocationHandler和Proxy。 CGLIB代理：实现原理类似于JDK动态代理，只是它在运行期间生成的代理对象是针对目标类扩展的子类。CGLIB是高效的代码生成包，底层是依靠ASM（开源的java字节码编辑类库）操作字节码实现的，性能比JDK强；</p> <p>AOP编程的目的是分离目标对象的业务代码与关注点代码，使得关注点代码只写一次，而在执行业务代码的时候会动态植入关注点代码。原文地址：http://www.voidcn.com/article/p-ndxwwotf-bqv.html</p> <p>这篇文章也不错：https://www.iteye.com/blog/zk-chs-2266685</p> <p>目标对象 IUserDao与UserDao</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public interface IUserDao {
	void save();
	
	void find();
}

// 目标对象
public class UserDao implements IUserDao{
	@Override
	public void save() {
		System.out.println(&quot;模拟： 保存用户！&quot;);
	}

	@Override
	public void find() {
		System.out.println(&quot;查询&quot;);
	}

}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>关注点代码类</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Component
public class MyAOP {

    //写关注点代码 关注点代码只写一次，之后通过代理对象动态植入到目标对象的业务代码中

    public void beginTransaction(){
        System.out.println(&quot;开启事务..&quot;);
    }

    public void commit(){
        System.out.println(&quot;提交事务..&quot;);
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>代理工厂</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>public class ProxyObjectFactory {

    /**
     * 生成动态代理对象
     * @param target 目标对象
     * @param MyAop  提供关注点代码的对象
     * @return
     */
    public Object getProxyInstance(final Object target, final MyAOP MyAop){
        Object proxyInstance = Proxy.newProxyInstance(
                target.getClass().getClassLoader(),
                target.getClass().getInterfaces(),
                new InvocationHandler() {
                    @Override
                    public Object invoke(Object proxy, Method method, Object[] args) throws Throwable {
                        String methodName = method.getName();
                        Object result = null;
                        if(&quot;save&quot;.equals(methodName)){
                            MyAop.beginTransaction();
                            result = method.invoke(target, args);
                            MyAop.commit();
                        }else{
                            result = method.invoke(target, args);
                        }
                        return result;
                    }
                }
        );
        return proxyInstance;
    }
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="注解是怎么实现的"><a href="#注解是怎么实现的" class="header-anchor">#</a> 注解是怎么实现的</h3> <p>来源：https://www.cnblogs.com/lsx1993/p/4793124.html</p> <p>annotation是挺简单的东西.其实就是个声明。然后通过反射去取那些声明了值。通过java的反射机制相关的API来访问Annotation信息。相关类（框架或工具中的类）根据这些信息来决定如何使用该程序元素或改变它们的行为。Java语言解释器在工作时会忽略这些Annotation，因此在JVM中这些Annotation是“不起作用”的，只能通过配套的工具才能对这些Annotation类型的信息进行访问和处理。</p> <p>Spring容器根据注解的过滤规则扫描读取注解Bean定义类，并将其注册到Spring IoC容器中。SpringIoC容器通过Bean后置注解处理器解析Bean内部的注解。Spring实现@Autowire解析和注入的核心的类是通过AutowiredAnnotationBeanPostProcessor（注解处理器）来实现的。我们可以通过其方法列表看出，其中对字段的注入，对属性的注入，还有选择相应的构造方法来注入。</p> <ul><li>从构造方法的缓存中查询其构造方法</li> <li>若缓存中不存在，则根据反射获取所有构造方法</li> <li>遍历所有构造方法，查询器是否含有@Autowired属性</li> <li>判断Autowired注解中指定了required属性 （required属性就是判断是否强依依赖）若存在required就使用默认构造方法。</li> <li>返回指定的构造方法</li></ul> <p>处理器：</p> <ul><li>注册@Configuration处理器ConfigurationClassPostProcessor，</li> <li>注册@Autowired、@Value、@Inject处理器AutowiredAnnotationBeanPostProcessor，</li> <li>注册@Required处理器RequiredAnnotationBeanPostProcessor</li></ul> <p>自己博客中的：https://blog.csdn.net/maoyeqiu/article/details/49558725</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>
@TesterInfo(
	priority = Priority.HIGH, 
	createdBy = &quot;mkyong.com&quot;,  
	tags = {&quot;sales&quot;,&quot;test&quot; }
)
public class TestExample {
@Test
	void testA() {
	  if (true)
		throw new RuntimeException(&quot;This test always failed&quot;);
	}
}

//类上的注解
Class&lt;TestExample&gt; obj = TestExample.class;
	if (obj.isAnnotationPresent(TesterInfo.class)) {
 
		Annotation annotation = obj.getAnnotation(TesterInfo.class);
		TesterInfo testerInfo = (TesterInfo) annotation;


System.out.printf(&quot;%nPriority :%s&quot;, testerInfo.priority());
System.out.printf(&quot;%nCreatedBy :%s&quot;, testerInfo.createdBy());
System.out.printf(&quot;%nTags :&quot;);

//方法上的注解
for (Method method : obj.getDeclaredMethods()) {
		if (method.isAnnotationPresent(Test.class)) {
			Annotation annotation = method.getAnnotation(Test.class);
			Test test = (Test) annotation;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><h3 id="整个注入的过程-怎么实现管理的"><a href="#整个注入的过程-怎么实现管理的" class="header-anchor">#</a> 整个注入的过程，怎么实现管理的</h3> <p>核心IOC和AOP，这两个弄清楚了就好了，还有反射，反射是整个Spring的基础</p> <h3 id="spring、jdk和springmvc注解"><a href="#spring、jdk和springmvc注解" class="header-anchor">#</a> spring、jdk和springmvc注解</h3> <ol><li>jdk</li></ol> <ul><li>@Override 表示当前方法覆盖了父类的方法</li> <li>@Deprecation 表示方法已经过时,方法上有横线，使用时会有警告。</li> <li>@SuppviseWarnings 表示关闭一些警告信息(通知java编译器忽略特定的编译警告)</li></ul> <p>https://juejin.im/post/5a619f886fb9a01c9f5b7e4f</p> <ul><li>@Target 用于描述注解的使用范围,有一个枚举ElementType来指定</li> <li>@Retention 表示需要在什么级别保存该注释信息，用于描述注解的生命周期</li> <li>@Documented 如果用javadoc生成文档时，想把注解也生成文档，就带这个</li> <li>@Inherited 阐述了某个被标注的类型是被继承的</li></ul> <p>自己定义了一个注解类</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Target(ElementType.FIELD)
@Retention(RetentionPolicy.RUNTIME)
@Documented
public @interface Dog {
    public String dog() default &quot;&quot;;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>复制代码我定义了一个Dog注解，它有一个属性为dog,是String类型的，默认值为&quot;&quot;.我在使用的时候可以这样使用,@Dog(dog=&quot;小黄&quot;),还可以直接这样使用@Dog,不指定dog属性，默认就是&quot;&quot; .</p> <ol start="2"><li>spring</li></ol> <p>原文地址：</p> <p>https://blog.csdn.net/u010648555/article/details/76299467</p> <p>@Component可以代替@Repository、@Service、@Controller，因为这三个注解是被@Component标注的。如下代码</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>@Target({ElementType.TYPE})
@Retention(RetentionPolicy.RUNTIME)
@Documented
@Component
public @interface Controller {
    String value() default &quot;&quot;;
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><ul><li>@Autowired：属于Spring 的org.springframework.beans.factory.annotation包下,可用于为类的属性、构造器、方法进行注值,默认按照类型装配</li> <li>@Resource：不属于spring的注解，而是来自于JSR-250位于java.annotation包下，使用该annotation为目标bean指定协作者Bean。</li> <li>@PostConstruct 和 @PreDestroy 方法 实现初始化和销毁bean之前进行的操作</li> <li>@Configuration</li> <li>@Bean</li></ul> <ol start="3"><li>spring MVC</li></ol> <ul><li>@Controller 很明显是springmvc的</li> <li>@RequestMapping ： 这个注解用于将url映射到整个处理类或者特定的处理请求的方法</li> <li>@RequestParam ：将请求的参数绑定到方法中的参数上，有required参数，默认情况下，required=true，也就是改参数必须要传。</li> <li>@PathVariable ： 该注解用于方法修饰方法参数，会将修饰的方法参数变为可供使用的uri变量（可用于动态绑定）。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>@RequestMapping(value=&quot;/happy/{dayid}&quot;,method=RequestMethod.GET)
public String findPet(@PathVariable String dayid, Model mode) {
//使用@PathVariable注解绑定 {dayid} 到String dayid
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>@RequestBody ： @RequestBody是指方法参数应该被绑定到HTTP请求Body上。</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>@RequestMapping(value = &quot;/something&quot;, method = RequestMethod.PUT)
public void handle(@RequestBody String body，@RequestBody User user){
   //可以绑定自定义的对象类型
}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>@ResponseBody ： @ResponseBody与@RequestBody类似，它的作用是将返回类型直接输入到HTTP response body中。</li> <li>@RestController ：控制器实现了REST的API，只为服务于JSON，XML或其它自定义的类型内容，@RestController用来创建REST类型的控制器，与@Controller类型。@RestController就是这样一种类型，它避免了你重复的写@RequestMapping与@ResponseBody。</li> <li>@ModelAttribute ：@ModelAttribute可以作用在方法或方法参数上，当它作用在方法上时，标明该方法的目的是添加一个或多个模型属性（model attributes）。</li></ul> <h3 id="解释spring支持的几种bean的作用域"><a href="#解释spring支持的几种bean的作用域" class="header-anchor">#</a> 解释Spring支持的几种bean的作用域</h3> <p>Spring框架支持以下五种bean的作用域：</p> <ul><li>singleton : bean在每个Spring ioc 容器中只有一个实例。</li> <li>prototype：一个bean的定义可以有多个实例。每次请求都会创建一个新的 bean 实例。</li> <li>request：每次http请求都会创建一个bean，该作用域仅在基于web的Spring ApplicationContext情形下有效。</li> <li>session：在一个HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。</li> <li>global-session：在一个全局的HTTP Session中，一个bean定义对应一个实例。该作用域仅在基于web的Spring ApplicationContext情形下有效。</li></ul> <h3 id="spring框架中的单例beans是线程安全的么"><a href="#spring框架中的单例beans是线程安全的么" class="header-anchor">#</a> Spring框架中的单例Beans是线程安全的么？</h3> <p>Spring框架中的单例bean不是线程安全的。Spring框架并没有对单例bean进行任何多线程的封装处理。关于单例bean的线程安全和并发问题需要开发者自行去搞定。最浅显的解决办法就是将多态bean的作用域由“singleton”变更为“prototype”。</p> <p>在Bean对象中尽量避免定义可变的成员变量（不太现实）。</p> <p>在类中定义一个ThreadLocal成员变量，将需要的可变成员变量保存在 ThreadLocal 中（推荐的一种方式）。</p> <h3 id="spring-框架中用到了哪些设计模式"><a href="#spring-框架中用到了哪些设计模式" class="header-anchor">#</a> Spring 框架中用到了哪些设计模式？</h3> <p>关于下面一些设计模式的详细介绍，可以看笔主前段时间的原创文章《面试官:“谈谈Spring中都用到了那些设计模式?”。》 。</p> <ul><li>工厂设计模式 : Spring使用工厂模式通过 BeanFactory、ApplicationContext 创建 bean 对象。</li> <li>代理设计模式 : Spring AOP 功能的实现。</li> <li>单例设计模式 : Spring 中的 Bean 默认都是单例的。</li> <li>模板方法模式 : Spring 中 jdbcTemplate、hibernateTemplate 等以 Template 结尾的对数据库操作的类，它们就使用到了模板模式。</li> <li>包装器设计模式 : 我们的项目需要连接多个数据库，而且不同的客户在每次访问中根据需要会去访问不同的数据库。这种模式让我们可以根据客户的需求能够动态切换不同的数据源。</li> <li>观察者模式: Spring 事件驱动模型就是观察者模式很经典的一个应用。</li> <li>适配器模式 :Spring AOP 的增强或通知(Advice)使用到了适配器模式、spring MVC 中也是用到了适配器模式适配Controller。</li></ul> <h3 id="component-和-bean-的区别是什么"><a href="#component-和-bean-的区别是什么" class="header-anchor">#</a> @Component 和 @Bean 的区别是什么？</h3> <p>作用对象不同: @Component 注解作用于类，而@Bean注解作用于方法。
@Component通常是通过类路径扫描来自动侦测以及自动装配到Spring容器中（我们可以使用 @ComponentScan 注解定义要扫描的路径从中找出标识了需要装配的类自动装配到 Spring 的 bean 容器中）。@Bean 注解通常是我们在标有该注解的方法中定义产生这个 bean,@Bean告诉了Spring这是某个类的示例，当我需要用它的时候还给我。
@Bean 注解比 Component 注解的自定义性更强，而且很多地方我们只能通过 @Bean 注解来注册bean。比如当我们引用第三方库中的类需要装配到 Spring容器时，则只能通过 @Bean来实现。</p> <h3 id="spring-管理事务的方式有几种"><a href="#spring-管理事务的方式有几种" class="header-anchor">#</a> Spring 管理事务的方式有几种？</h3> <p>编程式事务，在代码中硬编码。(不推荐使用)</p> <p>声明式事务，在配置文件中配置（推荐使用）</p> <p>声明式事务又分为两种：</p> <p>基于XML的声明式事务</p> <p>基于注解的声明式事务</p> <h3 id="spring有几种配置方式"><a href="#spring有几种配置方式" class="header-anchor">#</a> Spring有几种配置方式？</h3> <p>将Spring配置到应用开发中有以下三种方式：</p> <ul><li>基于XML的配置</li> <li>基于注解的配置</li> <li>基于Java的配置</li></ul> <h3 id="解释不同方式的自动装配"><a href="#解释不同方式的自动装配" class="header-anchor">#</a> 解释不同方式的自动装配</h3> <ul><li>no：默认的方式是不进行自动装配，通过显式设置ref 属性来进行装配。</li> <li>byName：通过参数名 自动装配，Spring容器在配置文件中发现bean的autowire属性被设置成byname，之后容器试图匹配、装配和该bean的属性具有相同名字的bean。</li> <li>byType:：通过参数类型自动装配，Spring容器在配置文件中发现bean的autowire属性被设置成byType，之后容器试图匹配、装配和该bean的属性具有相同类型的bean。如果有多个bean符合条件，则抛出错误。</li> <li>constructor：这个方式类似于byType， 但是要提供给构造器参数，如果没有确定的带参数的构造器参数类型，将会抛出异常。</li> <li>autodetect：首先尝试使用constructor来自动装配，如果无法工作，则使用byType方式。</li></ul> <h3 id="spring主要模块"><a href="#spring主要模块" class="header-anchor">#</a> Spring主要模块</h3> <ul><li>Spring Core： 基础,可以说 Spring 其他所有的功能都需要依赖于该类库。主要提供 IOC 依赖注入功能。</li> <li>Spring Aspects  ： 该模块为与AspectJ的集成提供支持。</li> <li>Spring AOP ：提供了面向方面的编程实现。</li> <li>Spring JDBC : Java数据库连接。</li> <li>Spring JMS ：Java消息服务。</li> <li>Spring ORM : 用于支持Hibernate等ORM工具。</li> <li>Spring Web : 为创建Web应用程序提供支持。</li> <li>Spring Test : 提供了对 JUnit 和 TestNG 测试的支持。</li></ul> <h3 id="spring-aop-和-aspectj-aop-有什么区别"><a href="#spring-aop-和-aspectj-aop-有什么区别" class="header-anchor">#</a> Spring AOP 和 AspectJ AOP 有什么区别？</h3> <p>Spring AOP 属于运行时增强，而 AspectJ 是编译时增强。 Spring AOP 基于代理(Proxying)，而 AspectJ 基于字节码操作(Bytecode Manipulation)。</p> <p>Spring AOP 已经集成了 AspectJ ，AspectJ 应该算的上是 Java 生态系统中最完整的 AOP 框架了。AspectJ 相比于 Spring AOP 功能更加强大，但是 Spring AOP 相对来说更简单，如果我们的切面比较少，那么两者性能差异不大。但是，当切面太多的话，最好选择 AspectJ ，它比Spring AOP 快很多。</p> <h3 id="spring-是如何管理事务的"><a href="#spring-是如何管理事务的" class="header-anchor">#</a> Spring 是如何管理事务的？</h3> <p>spring的事务声明有两种方式，编程式和声明式。spring主要是通过“声明式事务”的方式对事务进行管理，即在配置文件中进行声明，通过AOP将事务切面切入程序，最大的好处是大大减少了代码量。</p> <h3 id="bean-是如何被管理的"><a href="#bean-是如何被管理的" class="header-anchor">#</a> Bean 是如何被管理的？</h3> <p>在Spring框架中，一旦把一个bean纳入到Spring IoC容器之中，这个bean的生命周期就会交由容器进行管理，一般担当管理者角色的是BeanFactory或ApplicationContext。认识一下Bean的生命周期活动，对更好的利用它有很大的帮助。</p> <p>概括来说主要有四个阶段：实例化，初始化，使用，销毁。</p> <h3 id="spring中的自动装配有哪些限制"><a href="#spring中的自动装配有哪些限制" class="header-anchor">#</a> Spring中的自动装配有哪些限制？</h3> <ul><li>如果使用了构造器注入或者setter注入，那么将覆盖自动装配的依赖关系。</li> <li>基本数据类型的值、字符串字面量、类字面量无法使用自动装配来注入。</li> <li>优先考虑使用显式的装配来进行更精确的依赖注入而不是使用自动装配。</li></ul> <h3 id="你可以在spring中注入一个null-和一个空字符串吗"><a href="#你可以在spring中注入一个null-和一个空字符串吗" class="header-anchor">#</a> 你可以在Spring中注入一个null 和一个空字符串吗？</h3> <p>可以。</p> <h3 id="spring-mvc-运行流程"><a href="#spring-mvc-运行流程" class="header-anchor">#</a> Spring MVC 运行流程</h3> <p>第一步：发起请求到前端控制器(DispatcherServlet)</p> <p>第二步：前端控制器请求HandlerMapping查找 Handler（ 可以根据xml配置、注解进行查找）</p> <p>第三步：处理器映射器HandlerMapping向前端控制器返回Handler</p> <p>第四步：前端控制器调用处理器适配器去执行Handler</p> <p>第五步：处理器适配器去执行Handler</p> <p>第六步：Handler执行完成给适配器返回ModelAndView</p> <p>第七步：处理器适配器向前端控制器返回ModelAndView（ModelAndView是springmvc框架的一个底层对象，包括Model和view）</p> <p>第八步：前端控制器请求视图解析器去进行视图解析（根据逻辑视图名解析成真正的视图(jsp)）</p> <p>第九步：视图解析器向前端控制器返回View</p> <p>第十步：前端控制器进行视图渲染（ 视图渲染将模型数据(在ModelAndView对象中)填充到request域）</p> <p>第十一步：前端控制器向用户响应结果</p> <h3 id="_1、-resource和-autowired区别"><a href="#_1、-resource和-autowired区别" class="header-anchor">#</a> 1、@Resource和@Autowired区别</h3> <p>https://www.cnblogs.com/think-in-java/p/5474740.html</p> <p><strong>@Resource默认根据byName注入，@Autowired默认根据byType注入</strong></p> <p>@Resource和@Autowired都是做bean的注入时使用，其实@Resource并不是Spring的注解，它的包是javax.annotation.Resource，需要导入，但是Spring支持该注解的注入。
@Autowired为Spring提供的注解，需要导入包org.springframework.beans.factory.annotation.Autowired;只按照byType注入。@Autowired注解是按照类型（byType）装配依赖对象，默认情况下它要求依赖对象必须存在，如果允许null值，可以设置它的required属性为false。如果我们想使用按照名称（byName）来装配，可以结合@Qualifier注解一起使用。</p> <p>@Resource默认按照ByName自动注入，由J2EE提供，需要导入包javax.annotation.Resource。@Resource有两个重要的属性：name和type，而Spring将@Resource注解的name属性解析为bean的名字，而type属性则解析为bean的类型。所以，如果使用name属性，则使用byName的自动注入策略，而使用type属性时则使用byType自动注入策略。如果既不制定name也不制定type属性，这时将通过反射机制使用byName自动注入策略。</p> <h3 id="_2、-component-service-controller-repository区别"><a href="#_2、-component-service-controller-repository区别" class="header-anchor">#</a> 2、@Component, @Service, @Controller, @Repository区别</h3> <p>https://blog.csdn.net/fansili/article/details/78740877</p> <p>@Component, @Service, @Controller, @Repository是spring注解，注解后可以被spring框架所扫描并注入到spring容器来进行管理
@Component是通用注解，其他三个注解是这个注解的拓展，并且具有了特定的功能
@Repository注解在持久层中，具有将数据库操作抛出的原生异常翻译转化为spring的持久层异常的功能。
@Controller层是spring-mvc的注解，具有将请求进行转发，重定向的功能。
@Service层是业务逻辑层注解，这个注解只是标注该类处于业务逻辑层。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/zq99299/note-book/edit/master/docs/interview/spring问答.md" target="_blank" rel="noopener noreferrer">帮助我们改善此页面！</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2022-01-04 17:14:56</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/mark/interview/redis问答.html" class="prev">
        redis的底层数据结构
      </a></span> <span class="next"><a href="/mark/interview/zk问答.html">
        Zookeeper的Leader选举
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/mark/assets/js/app.d4c6c5a9.js" defer></script><script src="/mark/assets/js/2.306dea3c.js" defer></script><script src="/mark/assets/js/136.1590399b.js" defer></script><script src="/mark/assets/js/4.c54fd058.js" defer></script>
  </body>
</html>
